<!doctype html><html lang=en>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.89.4"><link rel=stylesheet href=/assets/css/style.min.e20d49506ade137188c4e1f734904e43901c8c707532d1e8be580f2af18bf3a9.css integrity="sha256-4g1JUGreE3GIxOH3NJBOQ5AcjHB1MtHovlgPKvGL86k=" crossorigin=anonymous>
<link rel=stylesheet href=/assets/css/fontawesome-all.min.af1e6edc875a382b338bb25bd7c5c3f474a7f1b36212002a5896dd06f2186325.css integrity="sha256-rx5u3IdaOCszi7Jb18XD9HSn8bNiEgAqWJbdBvIYYyU=" crossorigin=anonymous>
<title>Topic - Onsite Notifications - Twitch4J</title></head>
<body><header>
<nav class="navbar navbar-expand-lg container"><a class=navbar-brand href=/><img src=/assets/images/logo.svg></a><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse justify-content-between" id=navbar-content>
<ul class="navbar-nav mr-auto">
<li class=nav-item><a href=/docs class=nav-link><i class="fas fa-book"></i>&nbsp;Documentation</a></li><li class=nav-item><a href=/javadoc class=nav-link><i class="fab fa-java"></i>&nbsp;Javadoc</a></li><li class=nav-item><a href=/discord class=nav-link><i class="fab fa-discord"></i>&nbsp;Discord</a></li><li class=nav-item><a href=/github/twitch4j class=nav-link><i class="fab fa-github"></i>&nbsp;GitHub&nbsp;<sup class=release></sup></a></li>
</ul>
<div class="navbar-right row">
<div class=search role=dialog>
<div class=search-inner>
<div class=search-form>
<label class=search-icon><i class="fa fas fa-search"></i></label>
<input class=search-input type=text name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false>
</div>
<div class=search-output>
<p class=info>Type your query to search.</p>
</div>
</div>
</div>
<div class=toggler-mode>
<p class=mx-1 id=toggler><i class=fas></i></p>
</div>
</div>
</div>
</nav>
</header><main role=main class="container-fluid flex-shrink-0 mb-5">
<div class="docs w-100">
<div class="row w-100">
<section class=nav-docs>
<div>
<h5>Navigation</h5>
<div id=Navigation>
<ul><li class=parent>
<div onclick="window.location.href='/docs/getting-started/'"><i class="fas fa-caret-right"></i>&nbsp;
<a href=/docs/getting-started/>Getting started</a>
</div><ul><li>
<a href=/docs/getting-started/installation/>Installation</a>
</li>
<li>
<a href=/docs/getting-started/client-builder/>Client-Builder</a>
</li>
<li>
<a href=/docs/getting-started/support/>Support</a>
</li>
<li>
<a href=/docs/getting-started/logging/>Logging</a>
</li>
<li>
<a href=/docs/getting-started/proxy/>Proxy Support</a>
</li>
</ul>
</li>
<li class=parent>
<div onclick="window.location.href='/docs/twitch4j/'"><i class="fas fa-caret-right"></i>&nbsp;
<a href=/docs/twitch4j/>Twitch4J</a>
</div><ul><li>
<a href=/docs/twitch4j/client-helper/>Client Helper</a>
</li>
</ul>
</li>
<li class=parent>
<div onclick="window.location.href='/docs/chat/'"><i class="fas fa-caret-right"></i>&nbsp;
<a href=/docs/chat/>Chat</a>
</div><ul><li>
<a href=/docs/chat/leave-channel/>Leave Channel</a>
</li>
<li>
<a href=/docs/chat/send-message/>Send Channel Message</a>
</li>
<li>
<a href=/docs/chat/send-private-message/>Send Private Message</a>
</li>
<li>
<a href=/docs/chat/join-channel/>Join Channel</a>
</li>
</ul>
</li>
<li class=parent>
<div onclick="window.location.href='/docs/rest-helix/'"><i class="fas fa-caret-right"></i>&nbsp;
<a href=/docs/rest-helix/>API - Helix</a>
</div><ul><li>
<a href=/docs/rest-helix/analytics-extension-url/>Analytics - Extensions</a>
</li>
<li>
<a href=/docs/rest-helix/analytics-game-url/>Analytics - Game</a>
</li>
<li>
<a href=/docs/rest-helix/bits-cheermotes/>Bits - Get Cheermotes</a>
</li>
<li>
<a href=/docs/rest-helix/bits-leaderboard/>Bits - Leaderboard</a>
</li>
<li>
<a href=/docs/rest-helix/entitlements-codes/>Entitlements - Get Code Status</a>
</li>
<li>
<a href=/docs/rest-helix/entitlements-redeem-codes/>Entitlements - Redeem Code</a>
</li>
<li>
<a href=/docs/rest-helix/clips-create/>Clips - Create</a>
</li>
<li>
<a href=/docs/rest-helix/clips-get/>Clips - Get</a>
</li>
<li>
<a href=/docs/rest-helix/games-get/>Games - Get</a>
</li>
<li>
<a href=/docs/rest-helix/games-top/>Games - Top Games</a>
</li>
<li>
<a href=/docs/rest-helix/moderators-get/>Moderators - Get</a>
</li>
<li>
<a href=/docs/rest-helix/moderators-get-events/>Moderators - Get Events</a>
</li>
<li>
<a href=/docs/rest-helix/streams-get/>Streams - Get</a>
</li>
<li>
<a href=/docs/rest-helix/streams-get-key/>Streams - Get Key</a>
</li>
<li>
<a href=/docs/rest-helix/streams-markers-get/>Streams - Get Markers</a>
</li>
<li>
<a href=/docs/rest-helix/streamtags-all/>StreamTags - Get All Stream Tags</a>
</li>
<li>
<a href=/docs/rest-helix/streamtags-stream/>StreamTags - Get Stream Tags</a>
</li>
<li>
<a href=/docs/rest-helix/subscriptions-get/>Subscriptions - Get all subscribers of a channel</a>
</li>
<li>
<a href=/docs/rest-helix/streamtags-replace/>StreamTags - Replace Stream Tags</a>
</li>
<li>
<a href=/docs/rest-helix/subscriptions-byuser/>Subscriptions - Check subscription status of provided user IDs (one or more) for a given channel</a>
</li>
<li>
<a href=/docs/rest-helix/users-get/>Users - Get</a>
</li>
<li>
<a href=/docs/rest-helix/users-followers/>Users - Get Follows</a>
</li>
<li>
<a href=/docs/rest-helix/users-update/>Users - Update</a>
</li>
<li>
<a href=/docs/rest-helix/users-extensions/>Users - Get Extensions</a>
</li>
<li>
<a href=/docs/rest-helix/users-active-extensions/>Users - Get Active Extensions</a>
</li>
<li>
<a href=/docs/rest-helix/videos-get/>Videos - Get</a>
</li>
</ul>
</li>
<li class=parent>
<div onclick="window.location.href='/docs/rest-kraken/'"><i class="fas fa-caret-right"></i>&nbsp;
<a href=/docs/rest-kraken/>API - Kraken</a>
</div><ul><li>
<a href=/docs/rest-tmi/>API - TMI</a>
</li>
<li>
<a href=/docs/rest-tmi/get-chatters/>TMI - Get Chatters</a>
</li>
<li>
<a href=/docs/rest-tmi/get-hosts/>TMI - Get Hosts</a>
</li>
<li>
<a href=/docs/rest-tmi/get-hosts-of/>TMI - Get Hosts of target channel</a>
</li>
<li>
<a href=/docs/rest-kraken/channel-get-subscribers/>Channel - Get Subscriptions</a>
</li>
<li>
<a href=/docs/rest-kraken/user-add-follow/>Users - Add Follow</a>
</li>
<li>
<a href=/docs/rest-kraken/ingests-get/>Ingests - Get</a>
</li>
<li>
<a href=/docs/rest-kraken/teams-all/>Teams - Get All</a>
</li>
<li>
<a href=/docs/rest-kraken/teams-by-name/>Teams - Get By Name</a>
</li>
<li>
<a href=/docs/rest-kraken/channel-update-title/>Channel - Update Title</a>
</li>
</ul>
</li>
<li class="parent active-parent">
<div onclick="window.location.href='/docs/pubsub/'"><i class="fas fa-caret-down"></i>&nbsp;
<a href=/docs/pubsub/>PubSub</a>
</div><ul><li>
<a href=/docs/pubsub/topic-bits-badge-unlocks/>Topic - Bits Badge Unlocks</a>
</li>
<li>
<a href=/docs/pubsub/topic-bits-events/>Topic - Bits Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-channel-points-events/>Topic - Channel Points Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-commerce-events/>Topic - Commerce Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-following-events/>Topic - Following Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-friendship-events/>Topic - Friendship Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-hype-train-events/>Topic - Hype Train Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-hype-train-rewards/>Topic - Hype Train Rewards</a>
</li>
<li>
<a href=/docs/pubsub/topic-leaderboard-events/>Topic - Leaderboard Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-moderation-events/>Topic - Moderation Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-onsite-notifications/ class=active>Topic - Onsite Notifications</a>
</li>
<li>
<a href=/docs/pubsub/topic-poll-events/>Topic - Poll Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-presence-events/>Topic - Presence Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-public-cheer-events/>Topic - Public Cheer Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-raid-events/>Topic - Raid Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-sub-gift-events/>Topic - Sub Gift Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-subscribe-events/>Topic - Subscribe Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-user-community-points-events/>Topic - User Community Points Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-video-playback-events/>Topic - Video Playback Events</a>
</li>
<li>
<a href=/docs/pubsub/topic-whispers/>Topic - Whispers</a>
</li>
</ul>
</li>
<li class=parent>
<div onclick="window.location.href='/docs/graphql/'"><i class="fas fa-caret-right"></i>&nbsp;
<a href=/docs/graphql/>GraphQL</a>
</div><ul><li>
<a href=/docs/graphql/user-follow/>User - Follow</a>
</li>
<li>
<a href=/docs/graphql/user-unfollow/>User - Unfollow</a>
</li>
</ul>
</li>
<li class=parent>
<div onclick="window.location.href='/docs/events/'"><i class="fas fa-caret-right"></i>&nbsp;
<a href=/docs/events/>Events</a>
</div><ul><li>
<a href=/docs/events/irc-message-event/>IRC Message</a>
</li>
<li>
<a href=/docs/events/eventhandler-simple/>EventHandler - Simple</a>
</li>
<li>
<a href=/docs/events/eventhandler-reactor/>EventHandler - Reactor</a>
</li>
<li>
<a href=/docs/events/channel-change-game-event/>Channel - Change Game Event</a>
</li>
<li>
<a href=/docs/events/channel-change-title-event/>Channel - Change Title Event</a>
</li>
<li>
<a href=/docs/events/channel-go-live-event/>Channel - Go Live Event</a>
</li>
<li>
<a href=/docs/events/channel-go-offline-event/>Channel - Go Offline Event</a>
</li>
<li>
<a href=/docs/events/channel-message-event/>Channel - MessageEvent</a>
</li>
<li>
<a href=/docs/events/private-message-event/>User - Private Message / Whisper</a>
</li>
</ul>
</li>
<li class=parent>
<div onclick="window.location.href='/docs/contribution/'"><i class="fas fa-caret-right"></i>&nbsp;
<a href=/docs/contribution/>Contribution</a>
</div><ul><li>
<a href=/docs/contribution/ide/>IDE - Development Environment</a>
</li>
<li>
<a href=/docs/contribution/pull-request/>Pull Request</a>
</li>
<li>
<a href=/docs/contribution/release/>Releases</a>
</li>
<li>
<a href=/docs/contribution/code-documentation/>Code Documentation</a>
</li>
<li>
<a href=/docs/contribution/documentation/>Documentation</a>
</li>
</ul>
</li>
<li>
<div onclick="window.location.href='/docs/acknowledgements/'">
<a href=/docs/acknowledgements/>Acknowledgements</a>
</div>
</li>
</ul>
</div>
</div>
</section>
<section class=toc>
<h5>Table of Contents</h5>
<nav id=TableOfContents>
<ul>
<li><a href=#topic---onsite-notifications>Topic - Onsite Notifications</a>
<ul>
<li><a href=#description>Description</a></li>
<li><a href=#method-definition>Method Definition</a></li>
<li><a href=#code-snippets>Code-Snippets</a>
<ul>
<li><a href=#example-general-use>Example: General use</a></li>
<li><a href=#example-live-status-monitoring>Example: Live status monitoring</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</section>
<div class=docs-content>
<h1 id=topic---onsite-notifications>Topic - Onsite Notifications</h1>
<h2 id=description>Description</h2>
<p>This topic can be used to monitor notifications that would occur on the twitch website (e.g. if a stream goes live).</p>
<p>With all undocumented topics, use at your own risk.</p>
<h2 id=method-definition>Method Definition</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th style=text-align:center>Type</th>
<th style=text-align:right>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>credential</td>
<td style=text-align:center>OAuth2Credential</td>
<td style=text-align:right>User Auth Token for the target user id</td>
</tr>
<tr>
<td>userId</td>
<td style=text-align:center>String</td>
<td style=text-align:right>Target User Id</td>
</tr>
</tbody>
</table>
<h2 id=code-snippets>Code-Snippets</h2>
<h3 id=example-general-use>Example: General use</h3>
<p>Subscribe to all onsite notifications for user <code>twitch4j</code> and register listeners that print all messages to console</p>
<div class=code-tabs>
<ul class="nav nav-tabs" role=tablist></ul>
<div class=tab-content>
<div class=tab-pane title=Java>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-java data-lang=java><span style=color:#75715e>// Subscribe to the topic
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>getPubSub</span><span style=color:#f92672>().</span><span style=color:#a6e22e>listenForOnsiteNotificationEvents</span><span style=color:#f92672>(</span>credential<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;149223493&#34;</span><span style=color:#f92672>);</span>

<span style=color:#75715e>// Listen to notification creations
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>getEventManager</span><span style=color:#f92672>().</span><span style=color:#a6e22e>onEvent</span><span style=color:#f92672>(</span>OnsiteNotificationCreationEvent<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>

<span style=color:#75715e>// Listen for notification summary updates
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>getEventManager</span><span style=color:#f92672>().</span><span style=color:#a6e22e>onEvent</span><span style=color:#f92672>(</span>UpdateOnsiteNotificationSummaryEvent<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>
</code></pre></div>
</div>
<div class=tab-pane title=Groovy>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-groovy data-lang=groovy><span style=color:#75715e>// Subscribe to the topic
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>pubSub</span><span style=color:#f92672>.</span><span style=color:#a6e22e>listenForOnsiteNotificationEvents</span><span style=color:#f92672>(</span>credential<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;149223493&#34;</span><span style=color:#f92672>);</span>

<span style=color:#75715e>// Listen to notification creations
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>eventManager</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onEvent</span><span style=color:#f92672>(</span>OnsiteNotificationCreationEvent<span style=color:#f92672>,</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>

<span style=color:#75715e>// Listen for notification summary updates
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>eventManager</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onEvent</span><span style=color:#f92672>(</span>UpdateOnsiteNotificationSummaryEvent<span style=color:#f92672>,</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>
</code></pre></div>
</div>
<div class=tab-pane title=Kotlin>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-kotlin data-lang=kotlin><span style=color:#75715e>// Subscribe to the topic
</span><span style=color:#75715e></span>twitchClient.pubSub.listenForOnsiteNotificationEvents(credential, <span style=color:#e6db74>&#34;149223493&#34;</span>);

<span style=color:#75715e>// Listen to notification creations
</span><span style=color:#75715e></span>twitchClient.eventManager.onEvent(OnsiteNotificationCreationEvent<span style=color:#f92672>::</span><span style=color:#66d9ef>class</span>.java, System.<span style=color:#66d9ef>out</span><span style=color:#f92672>::</span>println);

<span style=color:#75715e>// Listen for notification summary updates
</span><span style=color:#75715e></span>twitchClient.eventManager.onEvent(UpdateOnsiteNotificationSummaryEvent<span style=color:#f92672>::</span><span style=color:#66d9ef>class</span>.java, System.<span style=color:#66d9ef>out</span><span style=color:#f92672>::</span>println);
</code></pre></div>
</div>
</div>
</div>
<h3 id=example-live-status-monitoring>Example: Live status monitoring</h3>
<p>Note: a single channel can be following up to 2000 channels, as of the time of writing. Such events cannot be fired unless the notifications bell is enabled for the channel.</p>
<p>Note: these notifications tend to be fired faster than repeatedly querying API - Helix > Streams Get, as <code>TwitchClientHelper</code> (Twitch4J > Client Helper) does.</p>
<p><div class="alert alert-info" role=alert>
<strong>Disclaimer</strong>: Do not solely rely upon this code; fallback mechanisms should be employed as well.
</div>
<div class=code-tabs>
<ul class="nav nav-tabs" role=tablist></ul>
<div class=tab-content>
<div class=tab-pane title=Java>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-java data-lang=java><span style=color:#75715e>// Establish which channels&#39; live state is relevant
</span><span style=color:#75715e></span>Set<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> interestedChannelIds <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashSet<span style=color:#f92672>&lt;&gt;();</span>
interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;12826&#34;</span><span style=color:#f92672>);</span>
interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;53888434&#34;</span><span style=color:#f92672>);</span>
interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;141981764&#34;</span><span style=color:#f92672>);</span>
interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;142621956&#34;</span><span style=color:#f92672>);</span>

<span style=color:#75715e>// Subscribe to the topic
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>getPubSub</span><span style=color:#f92672>().</span><span style=color:#a6e22e>listenForOnsiteNotificationEvents</span><span style=color:#f92672>(</span>credential<span style=color:#f92672>,</span> userId<span style=color:#f92672>);</span>

<span style=color:#75715e>// Listen to notification creations
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>getEventManager</span><span style=color:#f92672>().</span><span style=color:#a6e22e>onEvent</span><span style=color:#f92672>(</span>OnsiteNotificationCreationEvent<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span> e <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span>
	OnsiteNotification notification <span style=color:#f92672>=</span> e<span style=color:#f92672>.</span><span style=color:#a6e22e>getData</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getNotification</span><span style=color:#f92672>();</span>
	<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>notification<span style=color:#f92672>.</span><span style=color:#a6e22e>getType</span><span style=color:#f92672>().</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;streamup&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
		List<span style=color:#f92672>&lt;</span>OnsiteNotification<span style=color:#f92672>.</span><span style=color:#a6e22e>Creator</span><span style=color:#f92672>&gt;</span> creators <span style=color:#f92672>=</span> notification<span style=color:#f92672>.</span><span style=color:#a6e22e>getCreators</span><span style=color:#f92672>();</span>
		<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>creators <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> creators<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 1 <span style=color:#f92672>&amp;&amp;</span> interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span>creators<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>0<span style=color:#f92672>).</span><span style=color:#a6e22e>getUserId</span><span style=color:#f92672>()))</span> <span style=color:#f92672>{</span>
			System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>e<span style=color:#f92672>);</span> <span style=color:#75715e>// Handle Go Live
</span><span style=color:#75715e></span>		<span style=color:#f92672>}</span>
	<span style=color:#f92672>}</span>
<span style=color:#f92672>});</span>
</code></pre></div>
</div>
<div class=tab-pane title=Groovy>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-groovy data-lang=groovy><span style=color:#75715e>// Establish which channels&#39; live state is relevant
</span><span style=color:#75715e></span><span style=color:#66d9ef>def</span> interestedChannelIds <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashSet<span style=color:#f92672>&lt;&gt;()</span>
interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;12826&#34;</span><span style=color:#f92672>)</span>
interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;53888434&#34;</span><span style=color:#f92672>)</span>
interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;141981764&#34;</span><span style=color:#f92672>)</span>
interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;142621956&#34;</span><span style=color:#f92672>)</span>

<span style=color:#75715e>// Subscribe to the topic
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>pubSub</span><span style=color:#f92672>.</span><span style=color:#a6e22e>listenForOnsiteNotificationEvents</span><span style=color:#f92672>(</span>credential<span style=color:#f92672>,</span> userId<span style=color:#f92672>)</span>

<span style=color:#75715e>// Listen to notification creations
</span><span style=color:#75715e></span>twitchClient<span style=color:#f92672>.</span><span style=color:#a6e22e>eventManager</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onEvent</span><span style=color:#f92672>(</span>OnsiteNotificationCreationEvent<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> e <span style=color:#f92672>-&gt;</span>
	<span style=color:#66d9ef>def</span> notification <span style=color:#f92672>=</span> e<span style=color:#f92672>.</span><span style=color:#a6e22e>data</span><span style=color:#f92672>.</span><span style=color:#a6e22e>notification</span>
	<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>notification<span style=color:#f92672>.</span><span style=color:#a6e22e>type</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;streamup&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
		<span style=color:#66d9ef>def</span> creators <span style=color:#f92672>=</span> notification<span style=color:#f92672>.</span><span style=color:#a6e22e>creators</span>
		<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>creators <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> creators<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> interestedChannelIds<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span>creators<span style=color:#f92672>[</span><span style=color:#ae81ff>0</span><span style=color:#f92672>].</span><span style=color:#a6e22e>userId</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
			System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>e<span style=color:#f92672>)</span> <span style=color:#75715e>// Handle Go Live
</span><span style=color:#75715e></span>		<span style=color:#f92672>}</span>
	<span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div>
</div>
<div class=tab-pane title=Kotlin>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-kotlin data-lang=kotlin><span style=color:#75715e>// Establish which channels&#39; live state is relevant
</span><span style=color:#75715e></span><span style=color:#66d9ef>val</span> interestedChannelIds = setOf(<span style=color:#e6db74>&#34;12826&#34;</span>, <span style=color:#e6db74>&#34;53888434&#34;</span>, <span style=color:#e6db74>&#34;141981764&#34;</span>, <span style=color:#e6db74>&#34;142621956&#34;</span>)

<span style=color:#75715e>// Subscribe to the topic
</span><span style=color:#75715e></span>twitchClient.pubSub.listenForOnsiteNotificationEvents(credential, userId);

<span style=color:#75715e>// Listen to notification creations
</span><span style=color:#75715e></span>twitchClient.eventManager.onEvent(OnsiteNotificationCreationEvent<span style=color:#f92672>::</span><span style=color:#66d9ef>class</span>.java) { e <span style=color:#f92672>-&gt;</span>
	<span style=color:#66d9ef>val</span> notification = e.`data<span style=color:#960050;background-color:#1e0010>`</span>.notification;
	<span style=color:#66d9ef>if</span> (notification.type.equals(<span style=color:#e6db74>&#34;streamup&#34;</span>, <span style=color:#66d9ef>true</span>)) {
		notification.creators<span style=color:#f92672>?.</span>apply {
			<span style=color:#66d9ef>if</span> (size <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> interestedChannelIds.contains(<span style=color:#66d9ef>get</span>(<span style=color:#ae81ff>0</span>).userId) {
				println(e); <span style=color:#75715e>// Handle Go Live
</span><span style=color:#75715e></span>			}
		}
	}
}
</code></pre></div>
</div>
</div>
</div></p>
<div class=edit-page-btn>
<a href=https://github.com/twitch4j/twitch4j.github.io/edit/master/content/docs/pubsub/topic-onsite-notifications.md class="btn btn-sm btn-edit-page">Improve this page</a>
</div>
</div>
</div>
</div>
</main><footer class="footer mt-auto">
<div class="text-center text-ice">Copyright © 2021 <a class="text-ice font-weight-bold" href=/>Twitch4J</a>. Twitch4J is not affiliated, associated, authorized, endorsed by, or in any way officially connected with Twitch.</div>
</footer>
<div id=back-to-top>
<a href=# class="btn btn-twitch-purple">
<i class="fas fa-caret-up"></i>
</a>
</div><script type=text/javascript src=/assets/js/jquery.min.64d0083866906099f942140bc1c5cba4b1bf65783c52e4a63c5c46bf9dbc41f4.js integrity="sha256-ZNAIOGaQYJn5QhQLwcXLpLG/ZXg8UuSmPFxGv528QfQ=" crossorigin=anonymous></script>
<script type=text/javascript src=/assets/js/bootstrap.min.ad46c0a2c94f31150b3f99db4233b8079a4147e793ab004cf7a9ad6527572b6d.js integrity="sha256-rUbAoslPMRULP5nbQjO4B5pBR+eTqwBM96mtZSdXK20=" crossorigin=anonymous></script>
<script type=text/javascript src=/assets/js/fuse.min.40ebff96cd8d91809414380cc807fc8e50dab067ce5e2e64d7f5aa0cc5bf80f6.js integrity="sha256-QOv/ls2NkYCUFDgMyAf8jlDasGfOXi5k1/WqDMW/gPY=" crossorigin=anonymous></script>
<script type=text/javascript src=/assets/js/search.min.c0a6bb260bc649b98a26f8a9673d199ae0854b6f228948e2e739a85785d80d23.js integrity="sha256-wKa7JgvGSbmKJvipZz0ZmuCFS28iiUji5zmoV4XYDSM=" crossorigin=anonymous></script>
<script type=text/javascript src=/assets/js/script.min.7e932551452536a9e735651c43000a24c880893311a2a4303fa351bd2a7a1ed0.js integrity="sha256-fpMlUUUlNqnnNWUcQwAKJMiAiTMRoqQwP6NRvSp6HtA=" crossorigin=anonymous></script></body>
</html>